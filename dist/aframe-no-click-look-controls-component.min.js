!function(t){function n(i){if(e[i])return e[i].exports;var o=e[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){var i=Math.PI/2,o=e(1);AFRAME.registerComponent("no-click-look-controls",{dependencies:["position","rotation"],schema:{enabled:{"default":!0},maxpitch:{"default":i},maxyaw:{"default":6*i},timebuffer:{"default":0}},init:function(){var t=this.el.sceneEl;this.setupMouseControls(),this.setupHMDControls(),t.addBehavior(this),this.previousPosition=new THREE.Vector3,this.deltaPosition=new THREE.Vector3},play:function(){this.attachEventListeners()},tick:function(t){this.update()},setupMouseControls:function(){this.canvasEl=document.querySelector("a-scene").canvas,this.hovering=!1,this.pitchObject=new THREE.Object3D,this.yawObject=new THREE.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},setupHMDControls:function(){this.dolly=new THREE.Object3D,this.euler=new THREE.Euler,this.controls=new THREE.VRControls(this.dolly),this.zeroQuaternion=new THREE.Quaternion},attachEventListeners:function(){var t=document.querySelector("a-scene").canvas;document.body.addEventListener("mousemove",this.onMouseMove.bind(this),!0),t.addEventListener("mouseout",this.onMouseOut.bind(this),!0),t.addEventListener("mouseover",this.onMouseOver.bind(this),!0),t.addEventListener("touchstart",this.onTouchStart.bind(this)),t.addEventListener("touchmove",this.onTouchMove.bind(this)),t.addEventListener("touchend",this.onTouchEnd.bind(this))},update:function(){this.data.enabled&&(o.update(),this.controls.update(),this.updateOrientation(),this.updatePosition())},updateOrientation:function(){var t=new THREE.Euler;return t.order="YXZ",function(){var n=this.pitchObject,e=this.yawObject,i=this.calculateHMDQuaternion();t.setFromQuaternion(i),this.el.setAttribute("rotation",{x:THREE.Math.radToDeg(t.x)+THREE.Math.radToDeg(n.rotation.x),y:THREE.Math.radToDeg(t.y)+THREE.Math.radToDeg(e.rotation.y),z:THREE.Math.radToDeg(t.z)})}}(),calculateHMDQuaternion:function(){var t=new THREE.Quaternion;return function(){var n=this.dolly;return this.zeroed||n.quaternion.equals(this.zeroQuaternion)||(this.zeroOrientation(),this.zeroed=!0),t.copy(this.zeroQuaternion).multiply(n.quaternion),t}}(),updatePosition:function(){var t=new THREE.Vector3,n=new THREE.Quaternion,e=new THREE.Vector3;return function(){var i=this.el,o=this.calculateDeltaPosition(),r=i.getComputedAttribute("position");this.el.object3D.matrixWorld.decompose(t,n,e),o.applyQuaternion(n),i.setAttribute("position",{x:r.x+o.x,y:r.y+o.y,z:r.z+o.z})}}(),calculateDeltaPosition:function(){var t=this.dolly,n=this.deltaPosition,e=this.previousPosition;return n.copy(t.position),n.sub(e),e.copy(t.position),n},updateHMDQuaternion:function(){var t=new THREE.Quaternion;return function(){var n=this.dolly;return this.controls.update(),this.zeroed||n.quaternion.equals(this.zeroQuaternion)||(this.zeroOrientation(),this.zeroed=!0),t.copy(this.zeroQuaternion).multiply(n.quaternion),t}}(),zeroOrientation:function(){var t=new THREE.Euler;t.setFromQuaternion(this.dolly.quaternion.clone().inverse()),t.z=0,t.x=0,this.zeroQuaternion.setFromEuler(t)},getMousePosition:function(t,n){var e=document.querySelector("a-scene").canvas.getBoundingClientRect();return{x:-2*(.5-(t.clientX-e.left)/e.width),y:-2*(.5-(t.clientY-e.top)/e.height)}},onMouseMove:function(t){var n=this.getMousePosition(t,this.canvasEl),e=n.x,i=n.y;if(o.removeAll(),this.hovering&&this.data.enabled){var r=this.pitchObject,a=this.yawObject,u=this.data.maxyaw*-e,s=this.data.maxpitch*-i,c={x:r.rotation.x,y:a.rotation.y};new o.Tween(c).to({x:s,y:u},this.data.timebuffer).onUpdate(function(){a.rotation.y=this.y,r.rotation.x=this.x}).easing(o.Easing.Sinusoidal.Out).start()}},onMouseOver:function(t){this.hovering=!0},onMouseOut:function(t){this.hovering=!1},onTouchStart:function(t){1===t.touches.length&&(this.touchStart={x:t.touches[0].pageX,y:t.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(t){var n,e=this.yawObject;this.touchStarted&&(n=2*Math.PI*(t.touches[0].pageX-this.touchStart.x)/this.canvasEl.clientWidth,e.rotation.y-=.5*n,this.touchStart={x:t.touches[0].pageX,y:t.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},remove:function(){}})},function(t,n,e){var i,o;!function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var t=window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:Date.now();window.performance.now=function(){return Date.now()-t}}}();var r=r||function(){var t=[];return{getAll:function(){return t},removeAll:function(){t=[]},add:function(n){t.push(n)},remove:function(n){var e=t.indexOf(n);-1!==e&&t.splice(e,1)},update:function(n){if(0===t.length)return!1;var e=0;for(n=void 0!==n?n:window.performance.now();e<t.length;)t[e].update(n)?e++:t.splice(e,1);return!0}}}();r.Tween=function(t){var n=t,e={},i={},o={},a=1e3,u=0,s=!1,c=!1,h=!1,l=0,f=null,d=r.Easing.Linear.None,p=r.Interpolation.Linear,v=[],E=null,w=!1,M=null,y=null,m=null;for(var g in t)e[g]=parseFloat(t[g],10);this.to=function(t,n){return void 0!==n&&(a=n),i=t,this},this.start=function(t){r.add(this),c=!0,w=!1,f=void 0!==t?t:window.performance.now(),f+=l;for(var a in i){if(i[a]instanceof Array){if(0===i[a].length)continue;i[a]=[n[a]].concat(i[a])}void 0!==e[a]&&(e[a]=n[a],e[a]instanceof Array==!1&&(e[a]*=1),o[a]=e[a]||0)}return this},this.stop=function(){return c?(r.remove(this),c=!1,null!==m&&m.call(n),this.stopChainedTweens(),this):this},this.stopChainedTweens=function(){for(var t=0,n=v.length;n>t;t++)v[t].stop()},this.delay=function(t){return l=t,this},this.repeat=function(t){return u=t,this},this.yoyo=function(t){return s=t,this},this.easing=function(t){return d=t,this},this.interpolation=function(t){return p=t,this},this.chain=function(){return v=arguments,this},this.onStart=function(t){return E=t,this},this.onUpdate=function(t){return M=t,this},this.onComplete=function(t){return y=t,this},this.onStop=function(t){return m=t,this},this.update=function(t){var r,c,m;if(f>t)return!0;w===!1&&(null!==E&&E.call(n),w=!0),c=(t-f)/a,c=c>1?1:c,m=d(c);for(r in i)if(void 0!==e[r]){var g=e[r]||0,O=i[r];O instanceof Array?n[r]=p(O,m):("string"==typeof O&&(O=O.startsWith("+")||O.startsWith("-")?g+parseFloat(O,10):parseFloat(O,10)),"number"==typeof O&&(n[r]=g+(O-g)*m))}if(null!==M&&M.call(n,m),1===c){if(u>0){isFinite(u)&&u--;for(r in o){if("string"==typeof i[r]&&(o[r]=o[r]+parseFloat(i[r],10)),s){var I=o[r];o[r]=i[r],i[r]=I}e[r]=o[r]}return s&&(h=!h),f=t+l,!0}null!==y&&y.call(n);for(var T=0,b=v.length;b>T;T++)v[T].start(f+a);return!1}return!0}},r.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var n,e=.1,i=.4;return 0===t?0:1===t?1:(!e||1>e?(e=1,n=i/4):n=i*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)))},Out:function(t){var n,e=.1,i=.4;return 0===t?0:1===t?1:(!e||1>e?(e=1,n=i/4):n=i*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/i)+1)},InOut:function(t){var n,e=.1,i=.4;return 0===t?0:1===t?1:(!e||1>e?(e=1,n=i/4):n=i*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?-.5*(e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)):e*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)*.5+1)}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?.5*(t*t*((n+1)*t-n)):.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-r.Easing.Bounce.Out(1-t)},Out:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return.5>t?.5*r.Easing.Bounce.In(2*t):.5*r.Easing.Bounce.Out(2*t-1)+.5}}},r.Interpolation={Linear:function(t,n){var e=t.length-1,i=e*n,o=Math.floor(i),a=r.Interpolation.Utils.Linear;return 0>n?a(t[0],t[1],i):n>1?a(t[e],t[e-1],e-i):a(t[o],t[o+1>e?e:o+1],i-o)},Bezier:function(t,n){for(var e=0,i=t.length-1,o=Math.pow,a=r.Interpolation.Utils.Bernstein,u=0;i>=u;u++)e+=o(1-n,i-u)*o(n,u)*t[u]*a(i,u);return e},CatmullRom:function(t,n){var e=t.length-1,i=e*n,o=Math.floor(i),a=r.Interpolation.Utils.CatmullRom;return t[0]===t[e]?(0>n&&(o=Math.floor(i=e*(1+n))),a(t[(o-1+e)%e],t[o],t[(o+1)%e],t[(o+2)%e],i-o)):0>n?t[0]-(a(t[0],t[0],t[1],t[1],-i)-t[0]):n>1?t[e]-(a(t[e],t[e],t[e-1],t[e-1],i-e)-t[e]):a(t[o?o-1:0],t[o],t[o+1>e?e:o+1],t[o+2>e?e:o+2],i-o)},Utils:{Linear:function(t,n,e){return(n-t)*e+t},Bernstein:function(t,n){var e=r.Interpolation.Utils.Factorial;return e(t)/e(n)/e(t-n)},Factorial:function(){var t=[1];return function(n){var e=1;if(t[n])return t[n];for(var i=n;i>1;i--)e*=i;return t[n]=e,e}}(),CatmullRom:function(t,n,e,i,o){var r=.5*(e-t),a=.5*(i-n),u=o*o,s=o*u;return(2*n-2*e+r+a)*s+(-3*n+3*e-2*r-a)*u+r*o+n}}},function(e){i=[],o=function(){return r}.apply(n,i),!(void 0!==o&&(t.exports=o))}(this)}]);